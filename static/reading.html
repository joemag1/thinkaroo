<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Comprehension - Thinkaroo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 48px;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            color: #666;
            font-size: 0.95em;
            margin-bottom: 24px;
            transition: color 0.2s ease;
        }

        .back-button:hover {
            color: #1a1a1a;
        }

        h1 {
            font-size: 2.5em;
            color: #1a1a1a;
            font-weight: 300;
            letter-spacing: -1px;
        }

        .story-section {
            background: white;
            border-radius: 12px;
            padding: 48px;
            margin-bottom: 32px;
            border: 1px solid #e0e0e0;
        }

        .story-title {
            font-size: 1.8em;
            color: #1a1a1a;
            font-weight: 500;
            margin-bottom: 24px;
            text-align: center;
        }

        .story-content {
            font-size: 1.1em;
            line-height: 1.8;
            color: #333;
            text-align: justify;
        }

        .story-content p {
            margin-bottom: 16px;
        }

        .story-content p:last-child {
            margin-bottom: 0;
        }

        .questions-section {
            background: white;
            border-radius: 12px;
            padding: 48px;
            border: 1px solid #e0e0e0;
        }

        .questions-header {
            font-size: 1.5em;
            color: #1a1a1a;
            font-weight: 500;
            margin-bottom: 32px;
            text-align: center;
        }

        .question {
            margin-bottom: 32px;
            padding-bottom: 32px;
            border-bottom: 1px solid #f0f0f0;
        }

        .question:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .question-text {
            font-size: 1.1em;
            color: #1a1a1a;
            margin-bottom: 16px;
            font-weight: 500;
        }

        .question-number {
            color: #888;
            font-weight: 400;
            margin-right: 8px;
        }

        .answer-input {
            width: 100%;
            padding: 16px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.2s ease;
            resize: vertical;
            min-height: 100px;
        }

        .answer-input:focus {
            outline: none;
            border-color: #666;
        }

        .submit-button {
            display: block;
            width: 100%;
            padding: 16px 32px;
            background: #1a1a1a;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s ease;
            margin-top: 32px;
        }

        .submit-button:hover {
            background: #333;
        }

        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #888;
        }

        .loading-spinner {
            font-size: 2em;
            margin-bottom: 16px;
        }

        @media (max-width: 768px) {
            body {
                padding: 20px 16px;
            }

            h1 {
                font-size: 2em;
            }

            .story-section,
            .questions-section {
                padding: 32px 24px;
            }

            .story-title {
                font-size: 1.5em;
            }

            .story-content {
                font-size: 1em;
                text-align: left;
            }

            .questions-header {
                font-size: 1.3em;
            }

            .question-text {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="/" class="back-button">
                <span>‚Üê</span>
                <span>Back to Home</span>
            </a>
            <h1>üìñ Reading Comprehension</h1>
        </div>

        <div id="content">
            <div class="loading">
                <div class="loading-spinner">‚è≥</div>
                <div>Loading your reading passage...</div>
            </div>
        </div>
    </div>

    <script>
        // This will be populated with dynamic content generation later
        function loadReadingSession() {
            // Placeholder for AI-generated content
            const storyData = {
                title: "Sample Story Title",
                content: [
                    "This is a placeholder paragraph. The actual story content will be generated dynamically using JavaScript.",
                    "More story content will appear here once we implement the AI generation functionality.",
                    "For now, this demonstrates the layout and structure of the reading comprehension page."
                ],
                questions: [
                    {
                        id: 1,
                        text: "What is the main idea of the passage?"
                    },
                    {
                        id: 2,
                        text: "What can you infer about the characters in the story?"
                    },
                    {
                        id: 3,
                        text: "How would you describe the tone of this passage?"
                    }
                ]
            };

            renderContent(storyData);
        }

        function renderContent(data) {
            const contentDiv = document.getElementById('content');

            const storyHTML = `
                <div class="story-section">
                    <h2 class="story-title">${data.title}</h2>
                    <div class="story-content">
                        ${data.content.map(p => `<p>${p}</p>`).join('')}
                    </div>
                </div>
            `;

            const questionsHTML = `
                <div class="questions-section">
                    <h2 class="questions-header">Questions</h2>
                    ${data.questions.map(q => `
                        <div class="question">
                            <div class="question-text">
                                <span class="question-number">${q.id}.</span>
                                ${q.text}
                            </div>
                            <textarea
                                class="answer-input"
                                id="answer-${q.id}"
                                placeholder="Type your answer here..."
                            ></textarea>
                        </div>
                    `).join('')}
                    <button class="submit-button" onclick="submitAnswers()">Submit Answers</button>
                </div>
            `;

            contentDiv.innerHTML = storyHTML + questionsHTML;
        }

        function submitAnswers() {
            // Placeholder for answer submission and AI grading
            const answers = [];
            const questions = document.querySelectorAll('.question');

            questions.forEach((question, index) => {
                const textarea = question.querySelector('textarea');
                answers.push({
                    questionId: index + 1,
                    answer: textarea.value
                });
            });

            console.log('Submitted answers:', answers);
            alert('Answer submission will be implemented with AI grading functionality.');
        }

        // Initialize the page
        loadReadingSession();
    </script>
</body>
</html>
